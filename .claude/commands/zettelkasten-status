#!/usr/bin/env python3
"""
Zettelkastenå¤‰æ›çŠ¶æ³ãƒã‚§ãƒƒã‚¯ã‚³ãƒãƒ³ãƒ‰
Feeling Notesã®å¤‰æ›çŠ¶æ³ã‚’ç¢ºèªã—ã€02 - Literature Notesã¸ã®ç§»å‹•æº–å‚™ãŒã§ãã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤º
"""

import os
import sys

def main():
    print("ğŸ“Š Zettelkastenå¤‰æ›çŠ¶æ³ã‚’ãƒã‚§ãƒƒã‚¯ä¸­...")
    print()
    
    # ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ãƒã‚§ãƒƒã‚¯
    feeling_notes_dir = "01 - Feeling Notes"
    literature_notes_dir = "02 - Literature Notes"
    
    if not os.path.exists(feeling_notes_dir):
        print("âŒ 01 - Feeling Notesãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")
        sys.exit(1)
    
    # ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†é¡
    emoji_prefixes = ['ğŸ”', 'ğŸ“‹', 'ğŸ’¡']
    unprocessed_files = []
    processed_files = []
    
    for filename in os.listdir(feeling_notes_dir):
        if filename.endswith('.md'):
            has_prefix = any(filename.startswith(prefix) for prefix in emoji_prefixes)
            if has_prefix:
                processed_files.append(filename)
            else:
                unprocessed_files.append(filename)
    
    # çµæœè¡¨ç¤º
    print("=" * 50)
    print("ğŸ“‹ FEELING NOTES å¤‰æ›çŠ¶æ³ãƒ¬ãƒãƒ¼ãƒˆ")
    print("=" * 50)
    
    if unprocessed_files:
        print(f"â³ æœªå¤‰æ›ãƒ•ã‚¡ã‚¤ãƒ«: {len(unprocessed_files)} å€‹")
        for filename in unprocessed_files:
            print(f"   ğŸ“„ {filename}")
        print()
    
    if processed_files:
        print(f"âœ… å¤‰æ›æ¸ˆã¿ï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡ï¼‰: {len(processed_files)} å€‹")
        concept_files = [f for f in processed_files if f.startswith('ğŸ”')]
        guide_files = [f for f in processed_files if f.startswith('ğŸ“‹')]
        tips_files = [f for f in processed_files if f.startswith('ğŸ’¡')]
        
        if concept_files:
            print(f"   ğŸ” Concept: {len(concept_files)} å€‹")
            for f in concept_files:
                print(f"      â€¢ {f}")
        
        if guide_files:
            print(f"   ğŸ“‹ Guide: {len(guide_files)} å€‹")
            for f in guide_files:
                print(f"      â€¢ {f}")
        
        if tips_files:
            print(f"   ğŸ’¡ Tips: {len(tips_files)} å€‹")
            for f in tips_files:
                print(f"      â€¢ {f}")
        
        print()
        print("ğŸ‘€ äººé–“ã«ã‚ˆã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾Œã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ç§»å‹•ã—ã¦ãã ã•ã„ï¼š")
        print("   mv \"01 - Feeling Notes/ãƒ•ã‚¡ã‚¤ãƒ«å.md\" \"02 - Literature Notes/\"")
    
    print("=" * 50)
    
    if not unprocessed_files and not processed_files:
        print("ğŸ“ Feeling Notesã¯ç©ºã§ã™")
    elif not unprocessed_files:
        print("ğŸ‰ ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤‰æ›æ¸ˆã¿ã§ã™ï¼ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚")
    else:
        print("ğŸ”„ ã¾ã æœªå¤‰æ›ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚zettelkasten-convertã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚")

if __name__ == "__main__":
    main()