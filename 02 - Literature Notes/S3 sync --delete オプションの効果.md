**タイプ**: 💡 Tips

## 📝 一行要約
S3バケットとローカルディレクトリを完全同期し、不要ファイルを自動削除するAWS CLIオプション

## ⚡ 期待できる効果
- S3バケットとローカルディレクトリの完全同期
- 旧いビルドファイルの自動削除によるクリーンなデプロイ環境
- 不要ファイル残存問題の解決

## 🎯 使用方法
- **基本コマンド**: `aws s3 sync dist s3://your-bucket --delete`
- **GitHub Actions**: `run: aws s3 sync dist s3://github-action-s3-test --delete`
- **削除の仕組み**: ローカルにないファイルをS3から自動削除

## 📍 適用場面
- GitHub Actionsでの自動デプロイ時
- 古いビルドファイルを確実に削除したい時
- 静的サイトのクリーンなデプロイが必要な時

## 📊 効果測定
- [ ] 削除されたファイルがS3から消えている
- [ ] ローカルとS3の内容が完全に一致している
- [ ] デプロイ時間が最適化されている

## 💡 なぜ重要か
AWS CLIの`--delete`オプションは、[[CloudFront配信ガイド]]と組み合わせた[[S3へのデプロイAction]]において、デプロイメントの整合性を保つ重要な要素。削除の永続性を理解した上で使用することで、クリーンで予測可能なデプロイメント環境を構築できる。

## 🔗 つながり
→ [[CloudFront配信ガイド]], [[S3へのデプロイAction]], [[作成予定-AWS CLI高度な活用]]

## 📚 参照元
> [AWS CLI Documentation - S3 sync, 2024年実践経験]